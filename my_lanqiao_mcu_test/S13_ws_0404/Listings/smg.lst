C51 COMPILER V9.60.7.0   SMG                                                               04/05/2024 16:44:20 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE SMG
OBJECT MODULE PLACED IN .\Objects\smg.obj
COMPILER INVOKED BY: D:\keilc51\c51\C51\BIN\C51.EXE smg.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\s
                    -mg.lst) OBJECT(.\Objects\smg.obj)

line level    source

   1          #include "smg.h"
   2          #define DP 0x7f
   3          
   4          code unsigned char seg[] = 
   5          {
   6          0xc0, //0
   7          0xf9, //1
   8          0xa4, //2
   9          0xb0, //3
  10          0x99, //4
  11          0x92, //5
  12          0x82, //6
  13          0xf8, //7
  14          0x80, //8
  15          0x90, //9
  16          0x88, //A
  17          0x83, //b
  18          0xc6, //C
  19          0xa1, //d
  20          0x86, //E
  21          0x8e, //F
  22          0xff, //Ãð
  23          0xfe, //'*' ÉÏºáa 1111_1110                     
  24          0xbf, // '-'ÖÐºág 1011_1111
  25          0xf7, //'_' ÏÂºád 1111_0111 
  26          0x89, //H
  27          0xc7, //L
  28          0xc8, //N
  29          0x8c, //P
  30          0xc1, //U
  31          };
  32          u8 dis_blink[8]={0,0,0,0,0,0,0,0};
  33          u8 dis_buf[8]={0,0,0,0,0,0,0,0};
  34          u8 dis_str[11];
  35          //*********************************************
  36          void disp_tran(void);
  37          void disp_scan(void);
  38          //**********************************************
  39          void disp_scan(void)
  40          {
  41   1              static u8 i=0;
  42   1              P0=0;
  43   1              gate(W8);
  44   1              P0=dis_buf[i] | dis_blink[i];
  45   1              gate(D8);       
  46   1              P0=1<<i;
  47   1              gate(W8);
  48   1              if(++i==8)i=0;
  49   1      }
  50          //**********************************************
  51          void disp_tran(void)    
  52          {
  53   1              u8 i = 0;
  54   1              u8 j = 0;
C51 COMPILER V9.60.7.0   SMG                                                               04/05/2024 16:44:20 PAGE 2   

  55   1              u8 temp;
  56   1              for (i = 0; i <= 7; i++, j++)
  57   1              {
  58   2                      switch (dis_str[j])
  59   2                      {
  60   3                      case '0':temp = seg[0];break;
  61   3                      case '1':temp = seg[1];break;
  62   3                      case '2':temp = seg[2];break;
  63   3                      case '3':temp = seg[3];break;
  64   3                      case '4':temp = seg[4];break;
  65   3                      case '5':temp = seg[5];break;
  66   3                      case '6':temp = seg[6];break;
  67   3                      case '7':temp = seg[7];break;
  68   3                      case '8':temp = seg[8];break;
  69   3                      case '9':temp = seg[9];break;
  70   3                      case 'A':temp = seg[10];break;
  71   3                      case 'B':temp = seg[11];break;
  72   3                      case 'C':temp = seg[12];break;
  73   3                      case 'D':temp = seg[13];break;
  74   3                      case 'E':temp = seg[14];break;
  75   3                      case 'F':temp = seg[15];break;
  76   3                      case ' ':temp = seg[16];break;
  77   3                      case '*':temp = seg[17];break;          
  78   3                      case '-':temp = seg[18];break;
  79   3                      case '_':temp = seg[19];break;
  80   3                      case 'H':temp = seg[20];break;
  81   3                      case 'L':temp = seg[21];break;
  82   3                      case 'N':temp = seg[22];break;
  83   3                      case 'P':temp = seg[23];break;
  84   3                      case 'U':temp = seg[24];break;
  85   3                      default: temp = 0xff;break;
  86   3                      }
  87   2                      if (dis_str[j + 1] == '.')
  88   2                      {
  89   3                              temp &= DP;
  90   3                              j++;
  91   3                      }
  92   2                      dis_buf[i] = temp;
  93   2              }
  94   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    326    ----
   CONSTANT SIZE    =     25    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     28       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
